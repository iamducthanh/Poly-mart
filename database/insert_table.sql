IF OBJECT_ID('POLYMART_v1') IS NOT NULLDROP DATABASE POLYMART_v1GOCREATE DATABASE POLYMART_v1GOUSE POLYMART_v1GOIF OBJECT_ID('LOAISANPHAM') IS NOT NULLDROP TABLE LOAISANPHAMGOCREATE TABLE LOAISANPHAM (	ID INT IDENTITY (1,1),	TEN NVARCHAR(100) NOT NULL,	CONSTRAINT PK_LOAISANPHAM PRIMARY KEY (ID))INSERT INTO LOAISANPHAM (TEN)VALUES (N'ÁO SƠ MI'),(N'ÁO THUN'),(N'QUẦN JEAN'),(N'BỘ THỂ THAO')IF OBJECT_ID('SANPHAM') IS NOT NULLDROP TABLE SANPHAMGOCREATE TABLE SANPHAM (	ID INT IDENTITY (1,1),	IDLOAISANPHAM INT,	TEN NVARCHAR(100) NOT NULL,	CONSTRAINT PK_SANPHAM PRIMARY KEY (ID),	CONSTRAINT FK_SANPHAM_LOAISANPHAM FOREIGN KEY (IDLOAISANPHAM) REFERENCES LOAISANPHAM (ID))INSERT INTO SANPHAM (IDLOAISANPHAM, TEN)VALUES (1, N'SƠ MI CÔNG SỞ'),(2, N'ÁO THUN IN HÌNH 3D')SELECT * FROM SANPHAMIF OBJECT_ID('CHITIETSANPHAM') IS NOT NULLDROP TABLE CHITIETSANPHAMGOCREATE TABLE CHITIETSANPHAM (	ID INT IDENTITY (1,1),	IDSANPHAM INT,	MAUSAC NVARCHAR(20) NOT NULL,	SIZE VARCHAR(10) NOT NULL,	SOLUONG INT CHECK (SOLUONG > -1),	GIABAN MONEY DEFAULT 0,	GIAVON MONEY DEFAULT 0,	GIAGIAM MONEY DEFAULT 0,	NGAYCAPNHAT DATETIME DEFAULT GETDATE(),	TRANGTHAI BIT DEFAULT 0,	CONSTRAINT PK_CHITIETSANPHAM PRIMARY KEY (ID),	CONSTRAINT FK_CHITIETSANPHAM FOREIGN KEY (IDSANPHAM) REFERENCES SANPHAM (ID))INSERT INTO CHITIETSANPHAM (IDSANPHAM, MAUSAC, SIZE, SOLUONG, GIABAN, TRANGTHAI)VALUES (1, N'TRẮNG', 'XL', 100, 490000, 1),(1, N'ĐEN', 'L', 50, 490000, 0)SELECT * FROM CHITIETSANPHAMIF OBJECT_ID('ANHSANPHAM') IS NOT NULLDROP TABLE ANHSANPHAMGOCREATE TABLE ANHSANPHAM (	IDCHITIETSANPHAM INT,	TENANH VARCHAR(100) NOT NULL,	CONSTRAINT PK_ANHSANPHAM PRIMARY KEY (IDCHITIETSANPHAM, TENANH),	CONSTRAINT FK_ANHSANPHAM_CHITIETSANPHAM FOREIGN KEY (IDCHITIETSANPHAM) REFERENCES CHITIETSANPHAM (ID))INSERT INTO ANHSANPHAM (IDCHITIETSANPHAM, TENANH)VALUES (1, 'MAT-SAU.JPG'),(1, 'MAT-TRUOC.JPG'),(2, 'MAT-SAU.JPG'),(2, 'MAT-TRUOC.JPG')SELECT * FROM ANHSANPHAMIF OBJECT_ID('NHANVIEN') IS NOT NULLDROP TABLE NHANVIENGOCREATE TABLE NHANVIEN (	ID INT IDENTITY (1,1),	HOTEN NVARCHAR(50) NOT NULL,	NGAYSINH DATETIME NOT NULL,	GIOITINH BIT NOT NULL,	DIACHI NVARCHAR(200) NOT NULL,	SODIENTHOAI VARCHAR(20) NOT NULL,	EMAIL VARCHAR(100) NOT NULL,	CHUCVU INT NOT NULL,	MUCLUONG MONEY NOT NULL,	ANHDAIDIEN VARCHAR(100) NOT NULL,	MATKHAU NVARCHAR(50) NOT NULL,	CONSTRAINT PK_NHANVIEN PRIMARY KEY (ID),)INSERT INTO NHANVIEN (HOTEN, NGAYSINH, GIOITINH, DIACHI, SODIENTHOAI, EMAIL, CHUCVU, MUCLUONG, ANHDAIDIEN, MATKHAU)VALUES (N'NGUYỄN QUANG NGỌC', '11-20-1997', 1, N'SÓC SƠN, HÀ NỘI', '0345678901', 'NGOC@GMAIL.COM', 3, 5000000, 'NGOCNQ.JPG', '12345678'),(N'ĐỖ VĂN DUY', '01-01-1995', 1, N'QUẢNG INH', '0345678901', 'DUY@GMAIL.COM', 2, 5500000, 'DUY.JPG', '12345678')SELECT * FROM NHANVIENIF OBJECT_ID('CHAMCONG') IS NOT NULLDROP TABLE CHAMCONGGOCREATE TABLE CHAMCONG (	IDNHANVIEN INT,	NGAYCHAMCONG DATETIME DEFAULT GETDATE(),	CONSTRAINT PK_CHAMCONG PRIMARY KEY (IDNHANVIEN, NGAYCHAMCONG),	CONSTRAINT FK_CHAMCONG_NHANVIEN FOREIGN KEY (IDNHANVIEN) REFERENCES NHANVIEN (ID))INSERT INTO CHAMCONG (IDNHANVIEN)VALUES (1),(2)SELECT * FROM CHAMCONGIF OBJECT_ID('CHITIEU') IS NOT NULLDROP TABLE CHITIEUGOCREATE TABLE CHITIEU (	MUCDICHCHITIEU NVARCHAR(100) NOT NULL,	IDNHANVIEN INT,	SOTIEN MONEY NOT NULL,	NGAYCHITIEU DATETIME DEFAULT GETDATE(),	GHICHU NTEXT,	CONSTRAINT PK_CHITIEU PRIMARY KEY (MUCDICHCHITIEU, IDNHANVIEN, SOTIEN, NGAYCHITIEU),	CONSTRAINT FK_CHITIEU_NHANVIEN FOREIGN KEY (IDNHANVIEN) REFERENCES NHANVIEN (ID))INSERT INTO CHITIEU (MUCDICHCHITIEU, IDNHANVIEN, SOTIEN, GHICHU)VALUES (N'TIỀN ĐIỆN', 2, 300000, N'TIỀN ĐIỆN THÁNG 2')SELECT * FROM CHITIEUIF OBJECT_ID('KHACHHANG') IS NOT NULLDROP TABLE KHACHHANGGOCREATE TABLE KHACHHANG (	ID INT IDENTITY (1,1),	HOTEN NVARCHAR(50),	SODIENTHOAI VARCHAR(20) NOT NULL,	DIACHI NVARCHAR(200),	TICHDIEM INT DEFAULT 0,	CONSTRAINT PK_KHACHHANG PRIMARY KEY (ID))INSERT INTO KHACHHANG (HOTEN, SODIENTHOAI, DIACHI, TICHDIEM)VALUES (NULL, '0345678912', '', 0)SELECT * FROM KHACHHANGIF OBJECT_ID('NGUONHANG') IS NOT NULLDROP TABLE NGUONHANGGOCREATE TABLE NGUONHANG (	ID INT IDENTITY (1,1),	TEN NVARCHAR(100) NOT NULL,	SODIENTHOAI VARCHAR(20) NOT NULL,	DIACHI NVARCHAR(200) NOT NULL,	CONSTRAINT PK_NGUONHANG PRIMARY KEY (ID))INSERT INTO NGUONHANG (TEN, SODIENTHOAI, DIACHI)VALUES (N'ADIDAS', '18008198', N'LIÊN BANG NGA')SELECT * FROM NGUONHANGIF OBJECT_ID('HOADONNHAPHANG') IS NOT NULLDROP TABLE HOADONNHAPHANGGOCREATE TABLE HOADONNHAPHANG (	ID INT IDENTITY (1,1),	IDNHANVIEN INT,	IDNGUONHANG INT,	NGAYNHAP DATETIME DEFAULT GETDATE(),	GHICHU NTEXT,	CONSTRAINT PK_HOADONNHAPHANG PRIMARY KEY (ID),	CONSTRAINT FK_HOADONNHAPHANG_NHANVIEN FOREIGN KEY (IDNHANVIEN) REFERENCES NHANVIEN (ID),	CONSTRAINT FK_HOADONNHAPHANG_NGUONHANG FOREIGN KEY (IDNGUONHANG) REFERENCES NGUONHANG (ID))INSERT INTO HOADONNHAPHANG (IDNHANVIEN, IDNGUONHANG, GHICHU)VALUES (1, 1, N'NGUỒN HÀNG NGÀY 28')SELECT * FROM HOADONNHAPHANGIF OBJECT_ID('CHITIETHOADONNHAPHANG') IS NOT NULLDROP TABLE CHITIETHOADONNHAPHANGGOCREATE TABLE CHITIETHOADONNHAPHANG (	IDHOADONNHAPHANG INT,	IDCHITIETSANPHAM INT,	GIANHAP MONEY NOT NULL,	SOLUONG INT NOT NULL,	CONSTRAINT PK_CHITIETHOADONNHAPHANG PRIMARY KEY (IDHOADONNHAPHANG, IDCHITIETSANPHAM, GIANHAP, SOLUONG),	CONSTRAINT FK_CHITIETHOADONNHAPHANG_HOADONNHAPHANG FOREIGN KEY (IDHOADONNHAPHANG) REFERENCES HOADONNHAPHANG (ID),	CONSTRAINT FK_CHITIETHOADONNHAPHANG_CHITIETSANPHAM FOREIGN KEY (IDCHITIETSANPHAM) REFERENCES CHITIETSANPHAM (ID))INSERT INTO CHITIETHOADONNHAPHANG (IDHOADONNHAPHANG, IDCHITIETSANPHAM, GIANHAP, SOLUONG)VALUES (1, 1, 250000, 100),(1, 2, 245000, 50)SELECT * FROM CHITIETHOADONNHAPHANGIF OBJECT_ID('HOADONTHANHTOAN') IS NOT NULLDROP TABLE HOADONTHANHTOANGOCREATE TABLE HOADONTHANHTOAN (	ID INT IDENTITY (1,1),	IDKHACHHANG INT,	IDNHANVIEN INT,	DIEMDADOI INT DEFAULT 0,	NGAYTHANHTOAN DATETIME DEFAULT GETDATE(),	GHICHU NTEXT,	CONSTRAINT PK_HOADONTHANHTOAN PRIMARY KEY (ID),	CONSTRAINT FK_HOADONTHANHTOAN_KHACHHANG FOREIGN KEY (IDKHACHHANG) REFERENCES KHACHHANG (ID),	CONSTRAINT FK_HOADONTHANHTOAN_NHANVIEN FOREIGN KEY (IDNHANVIEN) REFERENCES NHANVIEN (ID))INSERT INTO HOADONTHANHTOAN (IDKHACHHANG, IDNHANVIEN, DIEMDADOI, GHICHU)VALUES (1, 2, 0, N'HÓA ĐƠN THANH TOÁN NGÀY 28')SELECT * FROM HOADONTHANHTOANIF OBJECT_ID('CHITIETHOADONTHANHTOAN') IS NOT NULLDROP TABLE CHITIETHOADONTHANHTOANGOCREATE TABLE CHITIETHOADONTHANHTOAN (	ID INT IDENTITY (1,1),	IDCHITIETSANPHAM INT,	IDHOADONTHANHTOAN INT,	SOLUONG INT NOT NULL,	GIAMGIATHEM MONEY DEFAULT 0,	CONSTRAINT PK_CHITIETHOADONTHANHTOAN PRIMARY KEY (ID),	CONSTRAINT FK_CHITIETHOADONTHANHTOAN_CHITIETSANPHAM FOREIGN KEY (IDCHITIETSANPHAM) REFERENCES CHITIETSANPHAM (ID),	CONSTRAINT FK_CHITIETHOADONTHANHTOAN_HOADONTHANHTOAN FOREIGN KEY (IDHOADONTHANHTOAN) REFERENCES HOADONTHANHTOAN (ID))INSERT INTO CHITIETHOADONTHANHTOAN (IDCHITIETSANPHAM, IDHOADONTHANHTOAN, SOLUONG, GIAMGIATHEM)VALUES (1, 1, 10, 0),(2, 1, 2, 0)SELECT * FROM CHITIETHOADONTHANHTOANIF OBJECT_ID('HOADONTRAHANG') IS NOT NULLDROP TABLE HOADONTRAHANGGOCREATE TABLE HOADONTRAHANG (	ID INT IDENTITY (1,1),	IDNHANVIEN INT,	NGAYTRAHANG DATETIME DEFAULT GETDATE(),	GHICHU NTEXT,	CONSTRAINT PK_HOADONTRAHANG PRIMARY KEY (ID),	CONSTRAINT FK_HOADONTRAHANG_NHANVIEN FOREIGN KEY (IDNHANVIEN) REFERENCES NHANVIEN (ID))INSERT INTO HOADONTRAHANG (IDNHANVIEN, GHICHU)VALUES (2, N'KHÁCH TRẢ HÀNG')SELECT * FROM HOADONTRAHANGIF OBJECT_ID('CHITIETHOADONTRAHANG') IS NOT NULLDROP TABLE CHITIETHOADONTRAHANGGOCREATE TABLE CHITIETHOADONTRAHANG (	IDHOADONTRAHANG INT,	IDCHITIETHOADONTHANHTOAN INT,	SOLUONG INT NOT NULL,	CONSTRAINT PK_CHITIETHOADONTRAHANG PRIMARY KEY (IDHOADONTRAHANG, IDCHITIETHOADONTHANHTOAN),	CONSTRAINT FK_CHITIETHOADONTRAHANG_HOADONTRAHANG FOREIGN KEY (IDHOADONTRAHANG) REFERENCES HOADONTRAHANG (ID),	CONSTRAINT FK_CHITIETHOADONTRAHANG_CHITIETHOADONTHANHTOAN FOREIGN KEY (IDCHITIETHOADONTHANHTOAN) REFERENCES CHITIETHOADONTHANHTOAN (ID))INSERT INTO CHITIETHOADONTRAHANG (IDHOADONTRAHANG, IDCHITIETHOADONTHANHTOAN, SOLUONG)VALUES (1, 1, 1),(1, 2, 1)SELECT * FROM CHITIETHOADONTRAHANG